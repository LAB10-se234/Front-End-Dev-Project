
    <div class="testDiv">
        <div class="containerr">
            <form id="login-form">
                <div class="row">
                  <h2 style="text-align:center">Login</h2>
            
                  <div class="col">
            
                    <input type="text" id="username" placeholder="Username" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <input type="submit" value="Login">
                  </div>
                  
                </div>
              </form>
        </div>
    </div>

    <%- include('partials/footer') %> 

    <script>
        const form = document.getElementById('login-form')
        form.addEventListener('submit', async (event)=>{
            
            event.preventDefault()
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            const result = await fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    username,
                    password
                })
            }).then((res)=> res.json())

            if(result.status === 'ok'){
                console.log("Got token:", result.data)
                location.href = "http://192.168.1.109:3000/kitchen";
            }else {
                alert(result.error)
                
            }
 
        })
        
    </script>